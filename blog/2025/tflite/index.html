<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Automating TensorFlow Lite Builds with GitHub Actions for Raspberry Pi and x86 | Shadab Shaikh </title> <meta name="author" content="Shadab Shaikh"> <meta name="description" content="Streamlining TensorFlow Lite builds using GitHub Actions for Raspberry Pi 64-bit and x86 platforms."> <meta name="keywords" content="embedded-systems, embedded-systems-developer, cv, automotive-engineer, resume, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A7%91%E2%80%8D%F0%9F%8F%AB&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://shadab-shaikh.de/blog/2025/tflite/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Shadab Shaikh </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Automating TensorFlow Lite Builds with GitHub Actions for Raspberry Pi and x86</h1> <p class="post-meta"> January 19, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/tensorflowlite"> <i class="fa-solid fa-hashtag fa-sm"></i> TensorFlowLite</a>   <a href="/blog/tag/raspberrypi"> <i class="fa-solid fa-hashtag fa-sm"></i> RaspberryPi</a>   <a href="/blog/tag/x86"> <i class="fa-solid fa-hashtag fa-sm"></i> x86</a>   <a href="/blog/tag/automation"> <i class="fa-solid fa-hashtag fa-sm"></i> Automation</a>   <a href="/blog/tag/githubactions"> <i class="fa-solid fa-hashtag fa-sm"></i> GitHubActions</a>   <a href="/blog/tag/ci-cd"> <i class="fa-solid fa-hashtag fa-sm"></i> CI/CD</a>   <a href="/blog/tag/opensource"> <i class="fa-solid fa-hashtag fa-sm"></i> OpenSource</a>     ·   <a href="/blog/category/automation"> <i class="fa-solid fa-tag fa-sm"></i> automation</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Automation is the backbone of modern software development, and GitHub Actions makes it easier than ever to build, test, and deploy software projects. When it comes to TensorFlow Lite, automating the build process ensures consistent, reliable results across platforms like <strong>Raspberry Pi (64-bit)</strong> and <strong>x86 (64-bit)</strong>. This blog focuses on how GitHub Actions can simplify and streamline the CI/CD process for TensorFlow Lite builds, enabling developers to focus on innovation rather than manual setup.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/tflite_ci_cd-480.webp 480w,/assets/img/tflite_ci_cd-800.webp 800w,/assets/img/tflite_ci_cd-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/tflite_ci_cd.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Leveraging GitHub Actions for CI/CD. </div> <h2 id="why-use-github-actions-for-tensorflow-lite">Why Use GitHub Actions for TensorFlow Lite?</h2> <p>You can find the complete implementation and source code in the GitHub repository: <a href="https://github.com/shadab205/tflite-build" rel="external nofollow noopener" target="_blank">tflite-build</a>.</p> <p>Building TensorFlow Lite for specific platforms involves managing dependencies, configuring toolchains, and handling cross-compilation challenges. GitHub Actions automates this process, providing:</p> <ol> <li> <strong>Consistency</strong>: Ensures builds are repeatable and reliable.</li> <li> <strong>Efficiency</strong>: Automates time-consuming tasks like dependency installation and configuration.</li> <li> <strong>Scalability</strong>: Supports multiple architectures (Raspberry Pi 64-bit and x86).</li> <li> <strong>Accessibility</strong>: Produces precompiled <code class="language-plaintext highlighter-rouge">.deb</code> packages for easy deployment.</li> </ol> <h2 id="cicd-workflow-overview">CI/CD Workflow Overview</h2> <p>Using GitHub Actions, the CI/CD pipeline includes the following steps:</p> <ol> <li> <strong>Cloning the TensorFlow Repository</strong>: <ul> <li>Automates pulling the latest code from TensorFlow’s GitHub repository.</li> </ul> </li> <li> <strong>Installing Dependencies</strong>: <ul> <li>Handles installation of Bazel, Python, and necessary cross-compilation toolchains.</li> </ul> </li> <li> <strong>Building TensorFlow Lite</strong>: <ul> <li>Builds the TensorFlow Lite shared library for both Raspberry Pi and x86 architectures.</li> </ul> </li> <li> <strong>Packaging into <code class="language-plaintext highlighter-rouge">.deb</code> Files</strong>: <ul> <li>Creates Debian packages for streamlined installation.</li> </ul> </li> <li> <strong>Uploading Artifacts</strong>: <ul> <li>Publishes precompiled packages to the GitHub Releases page.</li> </ul> </li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/tflite-cicd-ghactions-480.webp 480w,/assets/img/tflite-cicd-ghactions-800.webp 800w,/assets/img/tflite-cicd-ghactions-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/tflite-cicd-ghactions.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> CI/CD pipeline ensures high-quality TensorFlow Lite builds. </div> <h2 id="supported-platforms">Supported Platforms</h2> <h3 id="raspberry-pi">Raspberry Pi</h3> <ul> <li> <strong>Boards:</strong> <ul> <li>Raspberry Pi 3 Model A+</li> <li>Raspberry Pi 3 Model B+</li> <li>Raspberry Pi 4 Model B</li> </ul> </li> <li> <strong>OS:</strong> <ul> <li>Raspberry Pi OS Bookworm 64-bit</li> </ul> </li> </ul> <h3 id="x86">x86</h3> <ul> <li> <strong>Note:</strong> <ul> <li>Does not support <code class="language-plaintext highlighter-rouge">avxnnint8</code>. This flag is disabled to ensure compatibility.</li> </ul> </li> <li> <strong>Tested on:</strong> <ul> <li>x86 64-bit machine running Ubuntu 22.04.</li> </ul> </li> </ul> <h2 id="installation">Installation</h2> <h3 id="raspberry-pi-64-bit">Raspberry Pi (64-bit)</h3> <p>Download and install the precompiled <code class="language-plaintext highlighter-rouge">.deb</code> package:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://github.com/&lt;your-repo&gt;/releases/latest/download/tensorflowlite-elinux_aarch64.deb
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> ./tensorflowlite-elinux_aarch64.deb
</code></pre></div></div> <h3 id="x86-64-bit">x86 (64-bit)</h3> <p>Download and install the precompiled <code class="language-plaintext highlighter-rouge">.deb</code> package:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://github.com/&lt;your-repo&gt;/releases/latest/download/tensorflowlite-amd64.deb
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> ./tensorflowlite-amd64.deb
</code></pre></div></div> <h2 id="code-example-using-tensorflow-lite">Code Example: Using TensorFlow Lite</h2> <p>Here’s an example of how to use the TensorFlow Lite library in your C++ project:</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"tensorflow/lite/interpreter.h"</span><span class="cp">
#include</span> <span class="cpf">"tensorflow/lite/kernels/register.h"</span><span class="cp">
#include</span> <span class="cpf">"tensorflow/lite/model.h"</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Load the TensorFlow Lite model</span>
    <span class="k">auto</span> <span class="n">model</span> <span class="o">=</span> <span class="n">tflite</span><span class="o">::</span><span class="n">FlatBufferModel</span><span class="o">::</span><span class="n">BuildFromFile</span><span class="p">(</span><span class="s">"model.tflite"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">model</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Failed to load model</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Build the interpreter</span>
    <span class="n">tflite</span><span class="o">::</span><span class="n">ops</span><span class="o">::</span><span class="n">builtin</span><span class="o">::</span><span class="n">BuiltinOpResolver</span> <span class="n">resolver</span><span class="p">;</span>
    <span class="n">tflite</span><span class="o">::</span><span class="n">InterpreterBuilder</span><span class="p">(</span><span class="o">*</span><span class="n">model</span><span class="p">,</span> <span class="n">resolver</span><span class="p">)(</span><span class="o">&amp;</span><span class="n">interpreter</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">interpreter</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Failed to construct interpreter</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Allocate tensor buffers</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">interpreter</span><span class="o">-&gt;</span><span class="n">AllocateTensors</span><span class="p">()</span> <span class="o">!=</span> <span class="n">kTfLiteOk</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">"Failed to allocate tensors</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"TensorFlow Lite initialized successfully!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="benefits-of-automation">Benefits of Automation</h2> <ol> <li> <strong>Ease of Deployment</strong>: <ul> <li>Precompiled <code class="language-plaintext highlighter-rouge">.deb</code> packages simplify the installation process for end-users.</li> </ul> </li> <li> <strong>Reproducibility</strong>: <ul> <li>Every build follows the same process, ensuring consistent results.</li> </ul> </li> <li> <strong>Cross-Platform Compatibility</strong>: <ul> <li>Supports both Raspberry Pi (64-bit) and x86 architectures.</li> </ul> </li> </ol> <h2 id="reference">Reference</h2> <ol> <li><a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite" rel="external nofollow noopener" target="_blank">TensorFlow Lite Repository</a></li> <li><a href="https://docs.github.com/actions" rel="external nofollow noopener" target="_blank">GitHub Actions Documentation</a></li> </ol> <hr> <p>With GitHub Actions, you can automate TensorFlow Lite builds for Raspberry Pi and x86 platforms, streamlining development and deployment processes. Try it out and simplify your workflows!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/rppg/">An introduction on Remote Photoplythesmograpy and the uses in ADAS systems.</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/svpwm/">Unlock the Precision in Power Electronics Control with Space Vector PWM</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Shadab Shaikh. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?5d75c11f89cd96294bf5e6dd1ee1bb30"></script> <script defer src="/assets/js/common.js?fcfacfb8c6281f5e68d5a7d348186eb1"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>